<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Management API  Reference for database-data-store</title>
  <link rel="stylesheet" href="../../../../../../styles.css">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
  <script src="../../../../../../scripts.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-core.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>
</head>
<body>
<div class="container">
  <header class="card-header">
<div>
  <nav aria-label="Breadcrumb" class="breadcrumb">
    <ol>
      <li>
        <a href="../../../../../index.html">root</a>
      </li>
      <li>
        <a href="../../../../../subsystem/ejb3/index.html">subsystem=ejb3</a>
      </li>
      <li>
        <a href="../../../../../subsystem/ejb3/service/timer-service/index.html">service=timer-service</a>
      </li>
      <li>database-data-store</li>
    </ol>
  </nav>
</div>    <h1>Management API Reference for database-data-store</h1>
    <p>An database based store for persistent Jakarta Enterprise Beans timers.</p>

  </header>
<h2>Provided Capabilities (1)</h2>

<table>
  <thead>
  <tr>
    <th>Name</th>
    <th>Dynamic</th>
    <th>Other provider points</th>
  </tr>
  </thead>
  <tbody>
  <tr>
    <td><a href="https://github.com/wildfly/wildfly-capabilities/tree/main/org/wildfly/ejb3/timer-service/timer-persistence-service/capability.adoc">org.wildfly.ejb3.timer-service.timer-persistence-service</a></td>
    <td>true</td>
    <td>
      <a href="../../../../../subsystem/ejb3/service/timer-service/file-data-store/index.html">/subsystem=ejb3/service=timer-service/file-data-store=*</a> <br/>
    </td>
  </tr>
  </tbody>
</table>
<h2>Attributes (5)</h2>
<ul class="attributes">
  <li>
    <span class="toggle-link">
      <a id="allow-execution" href="#allow-execution" class="">
         allow-execution</a> - If this node is allowed to execute timers. If this is false then the timers will be added to the database, and another node may execute them. Note that depending on your refresh interval if you add timers with a very short delay they will not be executed until another node refreshes.
    </span>
    <div class="collapsible">


      <table>
        <tr>
          <td>Type</td>
          <td>BOOLEAN</td>
        </tr>
        <tr>
          <td>Default Value</td>
          <td>true</td>
        </tr>
        <tr>
          <td>Is the attribute nillable?</td>
          <td>true</td>
        </tr>
        <tr>
          <td>Does the attribute allow expression?</td>
          <td>true</td>
        </tr>
        <tr>
          <td>Where is the attribute stored?</td>
          <td>configuration</td>
        </tr>
        <tr>
          <td>Access Type</td>
          <td>read-write</td>
        </tr>
        <tr>
          <td>Is restarted required?</td>
          <td>resource-services</td>
        </tr>
        <tr>
          <td>Stability Level</td>
          <td>default</td>
        </tr>
        <tr>
          <td class="toggle-link">Raw DMR model</td>
          <td class="collapsible">
            <div class="code-block-container">
                            <pre><code class="language-json">
{
    "type" : {
        "TYPE_MODEL_VALUE" : "BOOLEAN"
    },
    "description" : "If this node is allowed to execute timers. If this is false then the timers will be added to the database, and another node may execute them. Note that depending on your refresh interval if you add timers with a very short delay they will not be executed until another node refreshes.",
    "expressions-allowed" : true,
    "required" : false,
    "nillable" : true,
    "default" : true,
    "stability" : "default",
    "access-type" : "read-write",
    "storage" : "configuration",
    "restart-required" : "resource-services",
    "capability-reference" : null
}</code></pre>
            </div>
          </td>
        </tr>
      </table>
    </div>
  </li>
  <li>
    <span class="toggle-link">
      <a id="database" href="#database" class="">
         database</a> - The type of database that is in use. SQL can be customised per database type. Common values are: postgresql, mysql, mariadb, db2, hsql, h2, oracle, mssql and sybase.
    </span>
    <div class="collapsible">


      <table>
        <tr>
          <td>Type</td>
          <td>STRING</td>
        </tr>
        <tr>
          <td>Is the attribute nillable?</td>
          <td>true</td>
        </tr>
        <tr>
          <td>Does the attribute allow expression?</td>
          <td>true</td>
        </tr>
        <tr>
          <td>Where is the attribute stored?</td>
          <td>configuration</td>
        </tr>
        <tr>
          <td>Access Type</td>
          <td>read-write</td>
        </tr>
        <tr>
          <td>Is restarted required?</td>
          <td>resource-services</td>
        </tr>
        <tr>
          <td>Stability Level</td>
          <td>default</td>
        </tr>
        <tr>
          <td class="toggle-link">Raw DMR model</td>
          <td class="collapsible">
            <div class="code-block-container">
                            <pre><code class="language-json">
{
    "type" : {
        "TYPE_MODEL_VALUE" : "STRING"
    },
    "description" : "The type of database that is in use. SQL can be customised per database type. Common values are: postgresql, mysql, mariadb, db2, hsql, h2, oracle, mssql and sybase.",
    "expressions-allowed" : true,
    "required" : false,
    "nillable" : true,
    "min-length" : 1,
    "max-length" : 2147483647,
    "stability" : "default",
    "access-type" : "read-write",
    "storage" : "configuration",
    "restart-required" : "resource-services",
    "capability-reference" : null
}</code></pre>
            </div>
          </td>
        </tr>
      </table>
    </div>
  </li>
  <li>
    <span class="toggle-link">
      <a id="datasource-jndi-name" href="#datasource-jndi-name" class="">
         datasource-jndi-name</a> - The datasource that is used to persist the timers
    </span>
    <div class="collapsible">


      <table>
        <tr>
          <td>Type</td>
          <td>STRING</td>
        </tr>
        <tr>
          <td>Does the attribute allow expression?</td>
          <td>true</td>
        </tr>
        <tr>
          <td>Where is the attribute stored?</td>
          <td>configuration</td>
        </tr>
        <tr>
          <td>Access Type</td>
          <td>read-write</td>
        </tr>
        <tr>
          <td>Is restarted required?</td>
          <td>resource-services</td>
        </tr>
        <tr>
          <td>Stability Level</td>
          <td>default</td>
        </tr>
        <tr>
          <td class="toggle-link">Raw DMR model</td>
          <td class="collapsible">
            <div class="code-block-container">
                            <pre><code class="language-json">
{
    "type" : {
        "TYPE_MODEL_VALUE" : "STRING"
    },
    "description" : "The datasource that is used to persist the timers",
    "expressions-allowed" : true,
    "required" : true,
    "nillable" : false,
    "stability" : "default",
    "access-type" : "read-write",
    "storage" : "configuration",
    "restart-required" : "resource-services",
    "capability-reference" : null
}</code></pre>
            </div>
          </td>
        </tr>
      </table>
    </div>
  </li>
  <li>
    <span class="toggle-link">
      <a id="partition" href="#partition" class="">
         partition</a> - The partition name. This should be set to a different value for every node that is sharing a database to prevent the same timer being loaded by multiple noded.
    </span>
    <div class="collapsible">


      <table>
        <tr>
          <td>Type</td>
          <td>STRING</td>
        </tr>
        <tr>
          <td>Default Value</td>
          <td>default</td>
        </tr>
        <tr>
          <td>Is the attribute nillable?</td>
          <td>true</td>
        </tr>
        <tr>
          <td>Does the attribute allow expression?</td>
          <td>true</td>
        </tr>
        <tr>
          <td>Where is the attribute stored?</td>
          <td>configuration</td>
        </tr>
        <tr>
          <td>Access Type</td>
          <td>read-write</td>
        </tr>
        <tr>
          <td>Is restarted required?</td>
          <td>resource-services</td>
        </tr>
        <tr>
          <td>Stability Level</td>
          <td>default</td>
        </tr>
        <tr>
          <td class="toggle-link">Raw DMR model</td>
          <td class="collapsible">
            <div class="code-block-container">
                            <pre><code class="language-json">
{
    "type" : {
        "TYPE_MODEL_VALUE" : "STRING"
    },
    "description" : "The partition name. This should be set to a different value for every node that is sharing a database to prevent the same timer being loaded by multiple noded.",
    "expressions-allowed" : true,
    "required" : false,
    "nillable" : true,
    "default" : "default",
    "min-length" : 0,
    "max-length" : 2147483647,
    "stability" : "default",
    "access-type" : "read-write",
    "storage" : "configuration",
    "restart-required" : "resource-services",
    "capability-reference" : null
}</code></pre>
            </div>
          </td>
        </tr>
      </table>
    </div>
  </li>
  <li>
    <span class="toggle-link">
      <a id="refresh-interval" href="#refresh-interval" class="">
         refresh-interval</a> - Interval between refreshing the current timer set against the underlying database. A low value means timers get picked up more quickly, but increase load on the database.
    </span>
    <div class="collapsible">


      <table>
        <tr>
          <td>Type</td>
          <td>INT</td>
        </tr>
        <tr>
          <td>Default Value</td>
          <td>-1</td>
        </tr>
        <tr>
          <td>Is the attribute nillable?</td>
          <td>true</td>
        </tr>
        <tr>
          <td>Does the attribute allow expression?</td>
          <td>true</td>
        </tr>
        <tr>
          <td>Where is the attribute stored?</td>
          <td>configuration</td>
        </tr>
        <tr>
          <td>Access Type</td>
          <td>read-write</td>
        </tr>
        <tr>
          <td>Is restarted required?</td>
          <td>resource-services</td>
        </tr>
        <tr>
          <td>Stability Level</td>
          <td>default</td>
        </tr>
        <tr>
          <td class="toggle-link">Raw DMR model</td>
          <td class="collapsible">
            <div class="code-block-container">
                            <pre><code class="language-json">
{
    "type" : {
        "TYPE_MODEL_VALUE" : "INT"
    },
    "description" : "Interval between refreshing the current timer set against the underlying database. A low value means timers get picked up more quickly, but increase load on the database.",
    "expressions-allowed" : true,
    "required" : false,
    "nillable" : true,
    "default" : -1,
    "stability" : "default",
    "access-type" : "read-write",
    "storage" : "configuration",
    "restart-required" : "resource-services",
    "capability-reference" : null
}</code></pre>
            </div>
          </td>
        </tr>
      </table>
    </div>
  </li>
</ul>
<h2>Operations (2)</h2>
<ul class="operations">
  <li>
    <span class="toggle-link">
      <a id="add" href="#add" class="">
      add</a> - Adds a database store
    </span>
    <div class="collapsible">


      <table>
        <thead>
        <tr>
          <th>Request Parameter</th>
          <th>Type</th>
          <th>Required</th>
          <th>Expressions Allowed</th>
          <th>Default value</th>
          <th>Description</th>
        </tr>
        </thead>
        <tbody>
        <tr>
          <td>allow-execution</td>
          <td>BOOLEAN</td>
          <td>false</td>
          <td>true</td>
          <td>true</td>
          <td>If this node is allowed to execute timers. If this is false then the timers will be added to the database, and another node may execute them. Note that depending on your refresh interval if you add timers with a very short delay they will not be executed until another node refreshes.</td>
        </tr>
        <tr>
          <td>database</td>
          <td>STRING</td>
          <td>false</td>
          <td>true</td>
          <td></td>
          <td>The type of database that is in use. SQL can be customised per database type. Common values are: postgresql, mysql, mariadb, db2, hsql, h2, oracle, mssql and sybase.</td>
        </tr>
        <tr>
          <td>datasource-jndi-name</td>
          <td>STRING</td>
          <td>true</td>
          <td>true</td>
          <td></td>
          <td>The datasource that is used to persist the timers</td>
        </tr>
        <tr>
          <td>partition</td>
          <td>STRING</td>
          <td>false</td>
          <td>true</td>
          <td>default</td>
          <td>The partition name. This should be set to a different value for every node that is sharing a database to prevent the same timer being loaded by multiple noded.</td>
        </tr>
        <tr>
          <td>refresh-interval</td>
          <td>INT</td>
          <td>false</td>
          <td>true</td>
          <td>-1</td>
          <td>Interval between refreshing the current timer set against the underlying database. A low value means timers get picked up more quickly, but increase load on the database.</td>
        </tr>
        </tbody>
      </table>


      <table>
        <tr>
          <td class="toggle-link">Raw DMR model</td>
          <td class="collapsible">
            <div class="code-block-container">
              <pre><code class="language-json">
{
    "operation-name" : "add",
    "description" : "Adds a database store",
    "request-properties" : {
        "allow-execution" : {
            "type" : {
                "TYPE_MODEL_VALUE" : "BOOLEAN"
            },
            "description" : "If this node is allowed to execute timers. If this is false then the timers will be added to the database, and another node may execute them. Note that depending on your refresh interval if you add timers with a very short delay they will not be executed until another node refreshes.",
            "expressions-allowed" : true,
            "required" : false,
            "nillable" : true,
            "default" : true,
            "stability" : "default"
        },
        "database" : {
            "type" : {
                "TYPE_MODEL_VALUE" : "STRING"
            },
            "description" : "The type of database that is in use. SQL can be customised per database type. Common values are: postgresql, mysql, mariadb, db2, hsql, h2, oracle, mssql and sybase.",
            "expressions-allowed" : true,
            "required" : false,
            "nillable" : true,
            "min-length" : 1,
            "max-length" : 2147483647,
            "stability" : "default"
        },
        "datasource-jndi-name" : {
            "type" : {
                "TYPE_MODEL_VALUE" : "STRING"
            },
            "description" : "The datasource that is used to persist the timers",
            "expressions-allowed" : true,
            "required" : true,
            "nillable" : false,
            "stability" : "default"
        },
        "partition" : {
            "type" : {
                "TYPE_MODEL_VALUE" : "STRING"
            },
            "description" : "The partition name. This should be set to a different value for every node that is sharing a database to prevent the same timer being loaded by multiple noded.",
            "expressions-allowed" : true,
            "required" : false,
            "nillable" : true,
            "default" : "default",
            "min-length" : 0,
            "max-length" : 2147483647,
            "stability" : "default"
        },
        "refresh-interval" : {
            "type" : {
                "TYPE_MODEL_VALUE" : "INT"
            },
            "description" : "Interval between refreshing the current timer set against the underlying database. A low value means timers get picked up more quickly, but increase load on the database.",
            "expressions-allowed" : true,
            "required" : false,
            "nillable" : true,
            "default" : -1,
            "stability" : "default"
        }
    },
    "reply-properties" : {},
    "stability" : "default",
    "read-only" : false,
    "runtime-only" : false
}</code></pre>
            </div>
          </td>
        </tr>
      </table>
    </div>
  </li>
  <li>
    <span class="toggle-link">
      <a id="remove" href="#remove" class="">
      remove</a> - Removes a database store
    </span>
    <div class="collapsible">




      <table>
        <tr>
          <td class="toggle-link">Raw DMR model</td>
          <td class="collapsible">
            <div class="code-block-container">
              <pre><code class="language-json">
{
    "operation-name" : "remove",
    "description" : "Removes a database store",
    "request-properties" : {},
    "reply-properties" : {},
    "stability" : "default",
    "read-only" : false,
    "restart-required" : "all-services",
    "runtime-only" : false
}</code></pre>
            </div>
          </td>
        </tr>
      </table>
    </div>
  </li>
</ul>
<h2>Galleon Features</h2>
<p>Galleon features are to be used when creating Galleon feature-packs.</p>
<ul class="attributes">
  <li>
  <span class="toggle-link">subsystem.ejb3.service.timer-service.database-data-store</span>
  <div class="collapsible">
    <div class="code-block-container">
      <pre>
        <code id="feature" class="language-xml">
&lt;feature spec="subsystem.ejb3.service.timer-service.database-data-store"&gt;
  &lt;param name="database-data-store" value="{resource name}"/&gt;
  &lt;param name="allow-execution" value="{value}"/&gt;
  &lt;param name="database" value="{value}"/&gt;
  &lt;param name="datasource-jndi-name" value="{value}"/&gt;
  &lt;param name="partition" value="{value}"/&gt;
  &lt;param name="refresh-interval" value="{value}"/&gt;
&lt;feature/&gt;
        </code>
      </pre>
      <button class="copy-btn" onclick="copyToClipboard('feature')" title="Copy to clipboard">📋</button>
    </div>
  </div>
  </li>
</ul>
  <footer>
    <p>&copy; The WildFly authors 2025</p>
  </footer>
</div>
</body>
</html>